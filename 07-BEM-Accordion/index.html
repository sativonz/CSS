<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css" />
  <title>BEM Accordion</title>
</head>

<body>
  <div class="accordion">
    <div class="accordion__item">
      <h3 class="accordion__title js-title">A random title</h3>
      <p class="accordion__copy accordion__copy--open js-copy open">By not having the imagination to imagine what the
        content "might" be, a design consideration is lost. Meaning becomes obfuscated because "it's just text",
        understandability gets compromised because nobody realized that this text stuff was actually meant to be read.
        Opportunities get lost because the lorem ipsum garbage that you used instead of real content didn't suggest
        opportunities. The text then gets made really small, because, it's not meant to be used, we might as well create
        loads of that lovely white space.</p>
    </div>

    <div class="accordion__item">
      <h3 class="accordion__title js-title">A random title</h3>
      <p class="accordion__copy js-copy">By not having the imagination to imagine what the content "might" be, a design
        consideration is lost. Meaning becomes obfuscated because "it's just text", understandability gets compromised
        because nobody realized that this</p>
    </div>

    <div class="accordion__item">
      <h3 class="accordion__title js-title">A random title</h3>
      <p class="accordion__copy js-copy">By not having the imagination to imagine what the content "might" be, a design
        consideration is lost. Meaning becomes obfuscated because "it's just text", understandability gets compromised
        because nobody realized that this</p>
    </div>

    <div class="accordion__item">
      <h3 class="accordion__title js-title">A random title</h3>
      <p class="accordion__copy js-copy">By not having the imagination to imagine what the content "might" be, a design
        consideration is lost. Meaning becomes obfuscated because "it's just text", understandability gets compromised
        because nobody realized that this</p>
    </div>

    <div class="accordion__item">
      <h3 class="accordion__title js-title">A random title</h3>
      <p class="accordion__copy js-copy">By not having the imagination to imagine what the content "might" be, a design
        consideration is lost. Meaning becomes obfuscated because "it's just text", understandability gets compromised
        because nobody realized that this</p>
    </div>
  </div>
  <script>
    const titles = document.querySelectorAll('.js-title');

    titles.forEach(title => {
      const copy = title.nextElementSibling;

      title.addEventListener('click', function () {
        let styles = window.getComputedStyle(copy);

        if (styles.getPropertyValue("visibility") === 'visible') {
          copy.classList.remove('open');
        } else {
          copy.classList.add('open');
        }

        const siblings = Array.from(this.parentNode.parentNode.children);

        siblings.forEach(function (sibling) {
          if (sibling !== this.parentNode) {
            sibling.querySelector('.js-copy').classList.remove('open');
          }
        }, this);

        return false;
      });
    });


  </script>

</body>

</html>